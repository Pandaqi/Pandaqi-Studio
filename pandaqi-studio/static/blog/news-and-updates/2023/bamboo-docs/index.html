<!doctype html><html lang=en-US><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Bamboo Documentation | Pandaqi Blog</title>
<link rel=icon type=image/png href=https://pandaqi.com/blog//favicon.png><link rel=stylesheet type=text/css href=/blog/css/critical.min.css></head><body><header id=site-header><nav class=menu><ul><li><a href=https://pandaqi.com/blog/ class="masked-link big-mask mask-1" style=--rotation:-1deg>Home</a></li><li><a href=/blog/boardgames/ class="masked-link big-mask mask-8" style=--rotation:-1.5deg>Boardgames</a></li><li><a href=/blog/news-and-updates/ class="masked-link big-mask mask-8" style=--rotation:1deg>News & Updates</a></li><li><a href=/blog/reviews-and-thoughts/ class="masked-link big-mask mask-7" style=--rotation:1.5deg>Reviews & Thoughts</a></li><li><a href=/blog/tutorials/ class="masked-link big-mask mask-4" style=--rotation:2deg>Tutorials</a></li><li><a href=/blog/videogames/ class="masked-link big-mask mask-1" style=--rotation:-1deg>Videogames</a></li></ul></nav></header><main class="padding center-block"><article class=single-article><h1>Bamboo Documentation</h1><aside class=metadata><nav class=breadcrumbs><span class=metadata-label><span class=emoji>ü•ê</span> Breadcrumbs ||</span>
<a href=https://pandaqi.com/blog/>Home</a>
/
<a href=/blog/>Blog</a>
/
<a href=/blog/news-and-updates/>News and updates</a>
/
<a href=/blog/news-and-updates/2023/>2023rd</a>
/
<a href=/blog/news-and-updates/2023/bamboo-docs/>Bamboo docs</a></nav><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/pandaqi.com\/blog\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"\/blog\/","name":"blog"}},{"@type":"ListItem","position":4,"item":{"@id":"\/blog\/news-and-updates\/","name":"news-and-updates"}},{"@type":"ListItem","position":5,"item":{"@id":"\/blog\/news-and-updates\/2023\/","name":"2023"}},{"@type":"ListItem","position":6,"item":{"@id":"\/blog\/news-and-updates\/2023\/bamboo-docs\/","name":"bamboo-docs"}}]}</script><div><span class=metadata-label><span class=emoji>&#8987;</span> Published ||</span>
<time datetime=2023-02-25T00:00:00>Saturday, Feb 25, 2023</time></div><div><span class=metadata-label><span class=emoji>üìñ</span> Table of Contents ||</span>
<a href=# id=toc-toggle>Show</a></div></aside><aside id=table-of-contents class=masked-link-block><header><h2>Table of Contents</h2></header><nav id=TableOfContents><ul><li><a href=#why>Why?</a></li><li><a href=#how-to-use-on-my-website>How to use on my website?</a><ul><li><a href=#load-files>Load files</a></li><li><a href=#create-code-blocks>Create code blocks</a></li></ul></li><li><a href=#expressions>Expressions</a><ul><li><a href=#boolean>Boolean</a></li><li><a href=#numbers>Numbers</a></li><li><a href=#strings>Strings</a></li><li><a href=#calculating>Calculating</a></li></ul></li><li><a href=#debugging>Debugging</a><ul><li><a href=#comments>Comments</a></li><li><a href=#output>Output</a></li></ul></li><li><a href=#variables>Variables</a></li><li><a href=#conditionals>Conditionals</a></li><li><a href=#bags>Bags</a></li><li><a href=#loops>Loops</a></li><li><a href=#machines>Machines</a></li><li><a href=#data-manipulation>Data manipulation</a><ul><li><a href=#numbers-1>Numbers</a></li><li><a href=#strings-1>Strings</a></li></ul></li><li><a href=#bamboo>Bamboo</a></li><li><a href=#future>Future</a><ul><li><a href=#general>General</a></li><li><a href=#statements>Statements</a></li><li><a href=#operators>Operators</a></li><li><a href=#variables-1>Variables</a></li><li><a href=#conditionals-1>Conditionals</a></li><li><a href=#loops-1>Loops</a></li><li><a href=#bags-1>Bags</a></li><li><a href=#machines-1>Machines</a></li><li><a href=#bamboo-1>Bamboo</a></li></ul></li></ul></nav></aside><div><p>Bamboo was made to introduce people to programming. It has a limited set of features and terrible performance (if you want to do anything serious with it).</p><p>The language, therefore, aims to read like English:</p><ul><li>Each line is one statement. (Empty lines are just ignored)</li><li>Everything uses <em>words</em> as operators. (Symbols are often also supported, though.)</li><li>Grouping happens with indentation. (Similar to Python.)</li><li>It tries to be very dynamic. (It coerces data types, allows shenanigans, &mldr;)</li></ul><p>Almost all statements use this structure: <code>keyword value (keyword value)</code>.</p><p>You can read about <em>how</em> I developed it here: <a href=../bamboo-my-own-coding-language/>Bamboo: my own coding language</a>.</p><p>You can find it <a href=https://github.com/pandaqi/pq-bamboo>on GitHub</a>.</p><p>Below is an overview of the Bamboo &ldquo;grammar&rdquo;, with technical details left out.</p><p><figure class=inline-image><picture><img src=bamboo_grammar.webp loading=lazy decoding=async alt="Overview of (almost) full Bamboo grammar" title="Overview of (almost) full Bamboo grammar" width=1471 height=1635></picture><figcaption class=side-note><span>Overview of (almost) full Bamboo grammar</span></figcaption></figure></p><h2 id=why>Why?</h2><p>I built this for my tutorials on <a href=https://pandaqi.com/tutorials/programming/learn-to-code>Pandaqi Tutorials</a>. The parser is, therefore, three things in one:</p><ul><li>An interpreter</li><li>An executer</li><li>A syntax highlighter</li></ul><p>All of that on the spot. That&rsquo;s why its performance will tank if you write even moderately long code.</p><p>This project has two parts:</p><ul><li>A JavaScript library to edit, parse and highlight this on a webpage</li><li>The actual language syntax and grammar.</li></ul><p>Below, both are explained (in this order).</p><p>Here&rsquo;s a screenshot of what Bamboo looks like on my website.</p><p><figure class=inline-image><picture><img src=pq_bamboo-header.webp loading=lazy decoding=async alt="Visual of a highlighted Bamboo code block" title="Visual of a highlighted Bamboo code block" width=1560 height=521></picture><figcaption class=side-note><span>Visual of a highlighted Bamboo code block</span></figcaption></figure></p><p>Having created this language, though, I know have a much better understanding of how to do it <em>well</em>. So I might build on this language and create a proper (fast, robust) parser in the future.</p><h2 id=how-to-use-on-my-website>How to use on my website?</h2><h3 id=load-files>Load files</h3><p>Load the CSS. You can edit it to create your own styling rules.</p><p>Load the JS files.</p><ul><li>One is a <em>web worker</em>.</li><li>The other has general nodes and functionality, and can be located anywhere.</li></ul><p>Set your path to the web worker (after loading the main library) with</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>PQ_BAMBOO.config.webWorkerUrl = &#34;your/path/towards/it.js&#34;
</span></span></code></pre></div><p>The Hugo shortcode is optional. Use that if you happen to be using the Hugo website generator.</p><h3 id=create-code-blocks>Create code blocks</h3><p>Any element with the class <code>pq-bamboo</code> is converted to a code block automatically. All code blocks on a page are saved in a global variable <code>BAMBOO</code> (an array).</p><p>You can also do it manually. Simply don&rsquo;t give your node this class name. Then use</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=ln>1</span><span class=cl><span class=k>const</span> <span class=n>newBlock</span> <span class=o>=</span> <span class=n>new</span> <span class=n>PQ_BAMBOO</span><span class=o>.</span><span class=n>CodeBlock</span><span class=p>({</span> <span class=n>parent</span><span class=p>:</span> <span class=n>someParentNode</span> <span class=p>});</span>
</span></span></code></pre></div><p>It automatically creates the block and appends it to the parent.</p><p>From now on, you have an empty textarea in which to type. On change, it parses the result, highlights it, <em>and</em> executes to give you the result.</p><h2 id=expressions>Expressions</h2><p>There are three data types: booleans, numbers and strings.</p><h3 id=boolean>Boolean</h3><p>Created by typing <code>true</code> or <code>false</code></p><h3 id=numbers>Numbers</h3><p>Just type them. Use a dot for fractions (<code>3.14</code>).</p><h3 id=strings>Strings</h3><p>Placed between double quotes: <code>"this is a string"</code>. That&rsquo;s also the only disallowed character inside it.</p><h3 id=calculating>Calculating</h3><p>You can perform the usual calculations with this:</p><ul><li>Addition: <code>+</code> or <code>plus</code></li><li>Subtraction: <code>-</code> or <code>minus</code></li><li>Multiplication: <code>*</code> or <code>times</code></li><li>Division: <code>/</code> or <code>divide</code></li><li>Modulo: <code>%</code> or <code>mod</code></li><li>Exponentiation: <code>^</code> or <code>exp</code></li><li>Grouping: <code>(</code> some expression <code>)</code></li></ul><h2 id=debugging>Debugging</h2><h3 id=comments>Comments</h3><p>To write a comment, use the keyword <code>comment</code> (or symbol <code>></code>).</p><p>Comments are always single line and must be on their own line.</p><h3 id=output>Output</h3><p>To add anything to the log, use <code>say SOMETHING</code>.</p><h2 id=variables>Variables</h2><p>To declare a variable, use <code>now VAR means VALUE</code></p><p>To change an existing numeric variable, use <code>change VAR by VALUE</code></p><p>Variables can contain alphanumeric characters and underscores. They cannot start with a number.</p><h2 id=conditionals>Conditionals</h2><p>To compare two values (and get a boolean result), you get the usual suspects.</p><ul><li>Equality: <code>=</code> or <code>is</code></li><li>Negate: <code>!</code> or <code>not</code></li><li>Greater: <code>></code> or <code>above</code></li><li>Less: <code>&lt;</code> or <code>below</code></li></ul><p>Note how it&rsquo;s a single equals sign. The double equals is something that trips up new programmers, so I wanted to remove it. I have nothing against it, personally.</p><p>In the same way, logical AND and logical OR are slightly different.</p><ul><li>And: <code>both VAL1 and VAL2</code></li><li>Or: <code>either VAL1 or VAL2</code></li></ul><p>This is, again, to circumvent roadblocks for new coders.</p><p>To execute a code block if the boolean is true, use the <code>if</code> statement and indent the code block after it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>if both (5 is 5) and (3 above 2)
</span></span><span class=line><span class=ln>2</span><span class=cl>    say &#34;YES!&#34;
</span></span></code></pre></div><h2 id=bags>Bags</h2><p>These are the alternative for both <em>arrays</em> and <em>dictionaries</em>. They&rsquo;re not their own data type, as they&rsquo;re merely a collection of bools, numbers or strings.</p><p>To declare a new bag, use <code>bag NAME holds</code>. Then type every element on a new indented line after it.</p><p>By default, they&rsquo;ll get indices (starting from <code>0</code>). You can also name any of them with <code>NAME means VAL</code> (similar syntax to variables).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>bag games holds
</span></span><span class=line><span class=ln>2</span><span class=cl>    &#34;Mario&#34;
</span></span><span class=line><span class=ln>3</span><span class=cl>    &#34;Pacman&#34;
</span></span><span class=line><span class=ln>4</span><span class=cl>    myFavorite as &#34;Rollercoaster Tycoon&#34;
</span></span></code></pre></div><p>To get properties of a bag, Bamboo simply uses the possessive form of English grammar: <code>'s</code>.</p><ul><li>Get a specific element with <code>BAGNAME's key</code></li><li>Get its size with <code>BAGNAME's size</code></li><li>Get the elements only with <code>BAGNAME's items</code></li><li>Get the names only with <code>BAGNAMES's labels</code></li></ul><p>To add or remove, use</p><ul><li><code>add VALUE to BAGNAME</code> (always at the end)</li><li><code>add (KEY means VALUE) to BAGNAME</code></li><li><code>take out of BAGNAME</code> (always last element)</li><li><code>take KEY out of BAGNAME</code></li></ul><h2 id=loops>Loops</h2><p>Again, Bamboo brings it back to the basics. You get a <code>repeat</code> statement: the indented code block after it will be infinitely repeated.</p><ul><li>Call <code>stop</code> when needed, to stop looping</li><li>Use <code>skip</code> to immediately move to the next loop iteration.</li></ul><p>There are some shorthands, though.</p><ul><li><code>repeat X times</code>: repeats the loop the given number of times</li><li><code>search NUMBERED BAG</code>: loops over all elements inside a bag (with only numbered keys)</li></ul><p>The language automatically provides two things inside a loop:</p><ul><li><code>bamboo iterator</code> is the current iterator ( = number of loop iterations already done)</li><li><code>bamboo value</code> is the current value (if iterating over a bag)</li></ul><h2 id=machines>Machines</h2><p>I discussed this a lot with people and thought about it for a while. In the end, the best analogy (to us) for <strong>functions</strong> was that of a machine or device. You give it input, it will always do the same thing (it&rsquo;s a mechanical machine!), and then give you output.</p><p>That seemed a good real-world analogy for what functions do. As such, Bamboo calls them <strong>machines</strong>.</p><p>To define one,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>machine NAME wants PARAMS
</span></span><span class=line><span class=ln>2</span><span class=cl>    ... code here ...
</span></span></code></pre></div><p>Machine names follow the same rules as variable names.</p><p>Parameters are supplied in written form, combined with <code>and</code>: <code>param1 and param2 and param3 ...</code></p><ul><li>To return from a function, call <code>output</code>. The last expression will be the return value.</li><li>The keyword <code>unplug</code> is an alternative and also immediately stops execution of the machine.</li></ul><p>This is a general rule in Bamboo. Every expression evaluates to something, and the last value of a block is always returned.</p><ul><li>To call one without parameters, use &mldr; <code>use NAME</code>.</li><li>To call one with parameters, use <code>give PARAMS to NAME</code></li></ul><p>Remember that this is just an expression that will output the final value of the machine. So you can use it like a value/variable wherever.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=ln>1</span><span class=cl>machine adder wants a and b
</span></span><span class=line><span class=ln>2</span><span class=cl>    a + b
</span></span><span class=line><span class=ln>3</span><span class=cl>
</span></span><span class=line><span class=ln>4</span><span class=cl>say &#34;Result: &#34; + (give 2 and 2 to adder)
</span></span></code></pre></div><h2 id=data-manipulation>Data manipulation</h2><p>Lastly, Bamboo has some useful built-in keywords for number or string manipulation. These do <em>not</em> need to be &ldquo;prefixed&rdquo; with <code>bamboo</code>. (That&rsquo;s only necessary for keywords that don&rsquo;t take any input.)</p><h3 id=numbers-1>Numbers</h3><ul><li><code>number VAL</code>: tries to parse what comes after as a number</li><li><code>round</code>: rounds to nearest integer</li><li><code>floor</code>: rounds down to nearest integer</li><li><code>ceiling</code>: rounds up to nearest integer</li><li><code>abs</code>: gets the absolute value. (The value without minus sign, if it previously had one.)</li></ul><h3 id=strings-1>Strings</h3><ul><li><code>string VAL</code>: tries to parse what comes after as a string</li><li><code>STRING's size</code>: gets the number of characters in the string</li><li><code>STRING's &lt;number></code>: gets the symbol at that index in the string</li><li><code>STRING's &lt;substring></code>: gets the index of that substring in the string (-1 otherwise)</li><li><code>uppercase STR</code>: transforms all characters to uppercase</li><li><code>lowercase STR</code>: transforms all characters to lowercase</li><li><code>replace STR1 with STR2 in STR</code>: does what it says</li><li><code>select IDX1 to IDX2 from STR</code>: selects the substring between the given indices</li></ul><p>As usual, strings are immutable. If you want to <em>change</em> a specific part of a string, create a new string with the changed part included.</p><h2 id=bamboo>Bamboo</h2><p>Any global functionality (that needs no value(s) as input) is accessible as <code>bamboo &lt;something></code>.</p><ul><li><code>bamboo random</code> => returns a random number between <code>0</code> and <code>1</code></li><li><code>bamboo time</code> => returns a bag with <code>year</code>, <code>month</code>, <code>day</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code></li></ul><h2 id=future>Future</h2><p>These are to-dos or ideas for the future. Or optional alternative syntaxes I might implement.</p><h3 id=general>General</h3><ul><li>Fix and complete the testing suite</li><li>Find cleaner implementation for converting something that might be a variable, name or evaluation into a key<ul><li>Saving labels on values (&ldquo;named literals&rdquo;) actually feels very powerful?</li><li>Maybe I should streamline that: any literal is automatically saved as a named literal/variable? So we know the exact object we&rsquo;re getting and can just call one function on that.</li></ul></li><li>Include <code>bamboo profile</code> (or something) to actually test how fast code runs, for the &ldquo;programming principles&rdquo; course.</li></ul><h3 id=statements>Statements</h3><ul><li>Allow multiline statements on a single line?<ul><li>Use <code>then</code> for statements => <code>if 5 is 5 then dothis</code></li><li>But what to do for other things? Like bags? Double colon? <code>bag BAG holds: elem1 elem2 ...</code></li></ul></li></ul><h3 id=operators>Operators</h3><ul><li>I play around with the idea of only supporting addition and multiplication. You can simply invert any value by typing <code>invert</code> => <code>5 - 5</code> = <code>5 plus invert 5</code>; <code>2 / 4</code> = <code>2 times invert 4</code></li><li>I couldn&rsquo;t find a word alternative for grouping. It&rsquo;s just too verbose and inefficient. <code>group a b c d group</code>?</li></ul><h3 id=variables-1>Variables</h3><ul><li><code>put VAL into VAR</code></li><li><code>set VAR to VAL</code></li><li><code>make VAR VAL</code></li><li><code>call VAL VAR</code></li><li><code>label VAR as VAL</code></li><li><code>add VAL to VAR</code></li><li><code>update VAR by VAL</code></li></ul><h3 id=conditionals-1>Conditionals</h3><p>Drop the if entirely? Just add a question mark at the end? => <code>5 is 5?</code></p><h3 id=loops-1>Loops</h3><ul><li><code>repeat A to B</code>: loops between the two values</li><li>Add <code>skip X</code> to skip ahead that number of loops?</li><li>I considered using &ldquo;rummage&rdquo; or &ldquo;comb&rdquo; for the bag loops. They are great words &mldr; unless you&rsquo;re not that familiar with their meaning.</li></ul><h3 id=bags-1>Bags</h3><ul><li>Allow initializing <em>empty bags</em> with simply <code>bag BAGNAME</code>?</li></ul><h3 id=machines-1>Machines</h3><ul><li>Allow saving a reference to a <em>machine</em> inside a variable or bag</li><li>Perhaps shorthand syntax for this:<ul><li><code>use FUNC from BAG with PARAMS</code></li><li><code>give PARAMS to NAME and output to VAR</code></li></ul></li></ul><h3 id=bamboo-1>Bamboo</h3><p>Use the <code>bamboo &lt;something></code> more. I considered some (very rudimentary)</p><ul><li>Built-in drawing,</li><li>Update loop (for games)</li><li>Asynchronous stuff</li><li>Access to file system, alerts, keyboard/mouse input, etcetera.</li></ul></div></article><div><nav class=pagination><ul><li><a href=/blog/news-and-updates/2023/bamboo-my-own-coding-language/ class="masked-link big-mask mask-3" style=--rotation:0.5deg>&lt;&lt; Previous Page</a></li><li>Continue reading</li><li><a href=/blog/news-and-updates/2023/pq-words/ class="masked-link big-mask mask-2" style=--rotation:1.5deg>>> Next Page</a></li></ul></nav></div></main><footer id=site-footer><div class="padding center-block"><h3>More Pandaqi</h3><p>You could <a href=https://pandaqi.com>visit the game studio</a>.
Or my <a href=https://pandaqi.com/tutorials/>free tutorial website</a>.
Or my <a href=https://rodepanda.com/>portfolio</a> with easy access to absolutely everything I ever made.</p><h3>Latest</h3><nav class=latest><ul><li><a href=/blog/boardgames/the-game-of-dilemmas/>The Game of Dilemmas
(ü§®)</a></li><li><a href=/blog/boardgames/the-game-of-happiness/>The Game of Happiness
(üåà)</a></li><li><a href=/blog/boardgames/firecrackers/>Firecrackers
(üéÜ)</a></li><li><a href=/blog/boardgames/sleighwell/>Sleighwell
(üéÑ)</a></li><li><a href=/blog/reviews-and-thoughts/the-two-crucial-components-of-a-game/>The Two Crucial Components of Any Game
(üí¨)</a></li><li><a href=/blog/news-and-updates/2024/lets-talk-about-throneless-games/>Let's Talk About: Throneless Games
(üëë)</a></li><li><a href=/blog/boardgames/mountain-miners/>Mountain Miners
(‚õèÔ∏è)</a></li><li><a href=/blog/boardgames/throneless-games/queenseat/>Queenseat
(üëë)</a></li><li><a href=/blog/boardgames/throneless-games/smallseat/>Smallseat
(üëë)</a></li><li><a href=/blog/news-and-updates/2024/pandaqi-games-2024-update-iv/>Pandaqi Games: 2024 Update IV
(üéÆ)</a></li></ul></nav><h3>Sections</h3><nav><ul><li><a href=/blog/boardgames/>Boardgames
(üé≤)</a></li><li><a href=/blog/news-and-updates/>News & Updates
(üì¢)</a></li><li><a href=/blog/reviews-and-thoughts/>Reviews & Thoughts
(üí≠)</a></li><li><a href=/blog/tutorials/>Tutorials
(üë©‚Äçüéì)</a></li><li><a href=/blog/videogames/>Videogames
(üéÆ)</a></li></ul></nav><h3>Credits</h3><p>Theme by me (<a href=https://pandaqi.com>Pandaqi</a> üêº) &#183;
with ‚ù§Ô∏è &#183;
using <a href=https://gohugo.io>Hugo</a> &#183;
&copy; 2018&ndash;2024 Pandaqi Blog</p></div></footer><link rel=stylesheet type=text/css href=/blog/css/style.css><script src=/blog/js/main.bundle.min.js async defer></script></body></html>